<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<title>SQL</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book">
<div id="header">
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="README.html">Вопросы для собеседования</a></p>
</div>
</div>
</div>
<h1 id="_sql" class="sect0">SQL</h1>
<div class="openblock partintro">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="#Что-такое-sql">Что такое <em>«SQL»</em>?</a></p>
</li>
<li>
<p><a href="#Какие-существуют-операторы-sql">Какие существуют операторы SQL?</a></p>
</li>
<li>
<p><a href="#Что-означает-null-в-sql">Что означает <code>NULL</code> в SQL?</a></p>
</li>
<li>
<p><a href="#Что-такое-временная-таблица-Для-чего-она-используется">Что такое <em>«временная таблица»</em>? Для чего она используется?</a></p>
</li>
<li>
<p><a href="#Что-такое-представление-view-и-для-чего-оно-применяется">Что такое <em>«представление» (view)</em> и для чего оно применяется?</a></p>
</li>
<li>
<p><a href="#Каков-общий-синтаксис-оператора-select">Каков общий синтаксис оператора <code>SELECT</code>?</a></p>
</li>
<li>
<p><a href="#Что-такое-join">Что такое <code>JOIN</code>?</a></p>
</li>
<li>
<p><a href="#Какие-существуют-типы-join">Какие существуют типы <code>JOIN</code>?</a></p>
</li>
<li>
<p><a href="#Что-лучше-использовать-join-или-подзапросы">Что лучше использовать <code>JOIN</code> или подзапросы?</a></p>
</li>
<li>
<p><a href="#Для-чего-используется-оператор-having">Для чего используется оператор <code>HAVING</code>?</a></p>
</li>
<li>
<p><a href="#В-чем-различие-между-операторами-having-и-where">В чем различие между операторами <code>HAVING</code> и <code>WHERE</code>?</a></p>
</li>
<li>
<p><a href="#Для-чего-используется-оператор-order-by">Для чего используется оператор <code>ORDER BY</code>?</a></p>
</li>
<li>
<p><a href="#Для-чего-используется-оператор-group-by">Для чего используется оператор <code>GROUP BY</code>?</a></p>
</li>
<li>
<p><a href="#Как-group-by-обрабатывает-значение-null">Как <code>GROUP BY</code> обрабатывает значение <code>NULL</code>?</a></p>
</li>
<li>
<p><a href="#В-чем-разница-между-операторами-group-by-и-distinct">В чем разница между операторами <code>GROUP BY</code> и <code>DISTINCT</code>?</a></p>
</li>
<li>
<p><a href="#Перечислите-основные-агрегатные-функции">Перечислите основные агрегатные функции.</a></p>
</li>
<li>
<p><a href="#В-чем-разница-между-count-и-countcolumn">В чем разница между <code>COUNT(*)</code> и <code>COUNT({column})</code>?</a></p>
</li>
<li>
<p><a href="#Что-делает-оператор-exists">Что делает оператор <code>EXISTS</code>?</a></p>
</li>
<li>
<p><a href="#Для-чего-используются-операторы-in-between-like">Для чего используются операторы <code>IN</code>, <code>BETWEEN</code>, <code>LIKE</code>?</a></p>
</li>
<li>
<p><a href="#Для-чего-применяется-ключевое-слово-union">Для чего применяется ключевое слово <code>UNION</code>?</a></p>
</li>
<li>
<p><a href="#Какие-ограничения-на-целостность-данных-существуют-в-sql">Какие ограничения на целостность данных существуют в SQL?</a></p>
</li>
<li>
<p><a href="#Какие-отличия-между-ограничениями-primary-и-unique">Какие отличия между ограничениями <code>PRIMARY</code> и <code>UNIQUE</code>?</a></p>
</li>
<li>
<p><a href="#Может-ли-значение-в-столбце-на-который-наложено-ограничение-foreign-key-равняться-null">Может ли значение в столбце, на который наложено ограничение <code>FOREIGN KEY</code>, равняться <code>NULL</code>?</a></p>
</li>
<li>
<p><a href="#Как-создать-индекс">Как создать индекс?</a></p>
</li>
<li>
<p><a href="#Что-делает-оператор-merge">Что делает оператор <code>MERGE</code>?</a></p>
</li>
<li>
<p><a href="#В-чем-отличие-между-операторами-delete-и-truncate">В чем отличие между операторами <code>DELETE</code> и <code>TRUNCATE</code>?</a></p>
</li>
<li>
<p><a href="#Что-такое-хранимая-процедура">Что такое <em>«хранимая процедура»</em>?</a></p>
</li>
<li>
<p><a href="#Что-такое-триггер">Что такое <em>«триггер»</em>?</a></p>
</li>
<li>
<p><a href="#Что-такое-курсор">Что такое <em>«курсор»</em>?</a></p>
</li>
<li>
<p><a href="#Опишите-разницу-типов-данных-datetime-и-timestamp">Опишите разницу типов данных <code>DATETIME</code> и <code>TIMESTAMP</code>.</a></p>
</li>
<li>
<p><a href="#Для-каких-числовых-типов-недопустимо-использовать-операции-сложениявычитания">Для каких числовых типов недопустимо использовать операции сложения/вычитания?</a></p>
</li>
<li>
<p><a href="#Какое-назначение-у-операторов-pivot-и-unpivot-в-transact-sql">Какое назначение у операторов <code>PIVOT</code> и <code>UNPIVOT</code> в Transact-SQL?</a></p>
</li>
<li>
<p><a href="#Расскажите-об-основных-функциях-ранжирования-в-transact-sql">Расскажите об основных функциях ранжирования в Transact-SQL.</a></p>
</li>
<li>
<p><a href="#Для-чего-используются-операторы-intersect-except-в-transact-sql">Для чего используются операторы <code>INTERSECT</code>, <code>EXCEPT</code> в Transact-SQL?</a></p>
</li>
<li>
<p><a href="#Напишите-запрос">Напишите запрос&#8230;&#8203;</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_такое_sql">Что такое <em>«SQL»</em>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SQL, Structured query language («язык структурированных запросов»)&#8201;&#8212;&#8201;формальный непроцедурный язык программирования, применяемый для создания, модификации и управления данными в произвольной реляционной базе данных, управляемой соответствующей системой управления базами данных (СУБД).</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_какие_существуют_операторы_sql">Какие существуют операторы SQL?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>операторы определения данных (Data Definition Language, DDL)</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>CREATE</code> создает объект БД (базу, таблицу, представление, пользователя и т. д.),</p>
</li>
<li>
<p><code>ALTER</code> изменяет объект,</p>
</li>
<li>
<p><code>DROP</code> удаляет объект;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>операторы манипуляции данными (Data Manipulation Language, DML)</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SELECT</code> выбирает данные, удовлетворяющие заданным условиям,</p>
</li>
<li>
<p><code>INSERT</code> добавляет новые данные,</p>
</li>
<li>
<p><code>UPDATE</code> изменяет существующие данные,</p>
</li>
<li>
<p><code>DELETE</code> удаляет данные;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>операторы определения доступа к данным (Data Control Language, DCL)</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GRANT</code> предоставляет пользователю (группе) разрешения на определенные операции с объектом,</p>
</li>
<li>
<p><code>REVOKE</code> отзывает ранее выданные разрешения,</p>
</li>
<li>
<p><code>DENY</code> задает запрет, имеющий приоритет над разрешением;</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>операторы управления транзакциями (Transaction Control Language, TCL)</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>COMMIT</code> применяет транзакцию,</p>
</li>
<li>
<p><code>ROLLBACK</code> откатывает все изменения, сделанные в контексте текущей транзакции,</p>
</li>
<li>
<p><code>SAVEPOINT</code> разбивает транзакцию на более мелкие.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_означает_null_в_sql">Что означает <code>NULL</code> в SQL?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>NULL</code> - специальное значение (псевдозначение), которое может быть записано в поле таблицы базы данных. NULL соответствует понятию «пустое поле», то есть «поле, не содержащее никакого значения».</p>
</div>
<div class="paragraph">
<p><code>NULL</code> означает отсутствие, неизвестность информации. Значение <code>NULL</code> не является значением в полном смысле слова: по определению оно означает отсутствие значения и не принадлежит ни одному типу данных. Поэтому <code>NULL</code> не равно ни логическому значению <code>FALSE</code>, ни <em>пустой строке</em>, ни <code>0</code>. При сравнении <code>NULL</code> с любым значением будет получен результат <code>NULL</code>, а не <code>FALSE</code> и не <code>0</code>. Более того, <code>NULL</code> не равно <code>NULL</code>!</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_такое_временная_таблица_для_чего_она_используется">Что такое <em>«временная таблица»</em>? Для чего она используется?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Временная таблица</strong> - это объект базы данных, который хранится и управляется системой базы данных на временной основе. Они могут быть локальными или глобальными. Используется для сохранения результатов вызова хранимой процедуры, уменьшение числа строк при соединениях, агрегирование данных из различных источников или как замена курсоров и параметризованных представлений.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_такое_представление_view_и_для_чего_оно_применяется">Что такое <em>«представление» (view)</em> и для чего оно применяется?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Представление</strong>, View - виртуальная таблица, представляющая данные одной или более таблиц альтернативным образом.</p>
</div>
<div class="paragraph">
<p>В действительности представление&#8201;&#8212;&#8201;всего лишь результат выполнения оператора <code>SELECT</code>, который хранится в структуре памяти, напоминающей SQL таблицу. Они работают в запросах и операторах DML точно также как и основные таблицы, но не содержат никаких собственных данных. Представления значительно расширяют возможности управления данными. Это способ дать публичный доступ к некоторой (но не всей) информации в таблице.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_каков_общий_синтаксис_оператора_select">Каков общий синтаксис оператора <code>SELECT</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>SELECT</code> - оператор DML SQL, возвращающий набор данных (выборку) из базы данных, удовлетворяющих заданному условию. Имеет следующую структуру:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT
       [DISTINCT | DISTINCTROW | ALL]
       select_expression,...
   FROM table_references
     [WHERE where_definition]
     [GROUP BY {unsigned_integer | column | formula}]
     [HAVING where_definition]
     [ORDER BY {unsigned_integer | column | formula} [ASC | DESC], ...]</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_такое_join">Что такое <code>JOIN</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>JOIN</strong> - оператор языка SQL, который является реализацией операции соединения реляционной алгебры. Предназначен для обеспечения выборки данных из двух таблиц и включения этих данных в один результирующий набор.</p>
</div>
<div class="paragraph">
<p>Особенностями операции соединения являются следующее:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>в схему таблицы-результата входят столбцы обеих исходных таблиц (таблиц-операндов), то есть схема результата является «сцеплением» схем операндов;</p>
</li>
<li>
<p>каждая строка таблицы-результата является «сцеплением» строки из одной таблицы-операнда со строкой второй таблицы-операнда;</p>
</li>
<li>
<p>при необходимости соединения не двух, а нескольких таблиц, операция соединения применяется несколько раз (последовательно).</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT
  field_name [,... n]
FROM
  Table1
  {INNER | {LEFT | RIGHT | FULL} OUTER | CROSS } JOIN
  Table2
    {ON &lt;condition&gt; | USING (field_name [,... n])}</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_какие_существуют_типы_join">Какие существуют типы <code>JOIN</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>(INNER) JOIN</strong>
Результатом объединения таблиц являются записи, общие для левой и правой таблиц. Порядок таблиц для оператора не важен, поскольку оператор является симметричным.</p>
</div>
<div class="paragraph">
<p><strong>LEFT (OUTER) JOIN</strong>
Производит выбор всех записей первой таблицы и соответствующих им записей второй таблицы. Если записи во второй таблице не найдены, то вместо них подставляется пустой результат (<code>NULL</code>). Порядок таблиц для оператора важен, поскольку оператор не является симметричным.</p>
</div>
<div class="paragraph">
<p><strong>RIGHT (OUTER) JOIN</strong>
<code>LEFT JOIN</code> с операндами, расставленными в обратном порядке. Порядок таблиц для оператора важен, поскольку оператор не является симметричным.</p>
</div>
<div class="paragraph">
<p><strong>FULL (OUTER) JOIN</strong>
Результатом объединения таблиц являются все записи, которые присутствуют в таблицах. Порядок таблиц для оператора не важен, поскольку оператор является симметричным.</p>
</div>
<div class="paragraph">
<p><strong>CROSS JOIN (декартово произведение)</strong>
При выборе каждая строка одной таблицы объединяется с каждой строкой второй таблицы, давая тем самым все возможные сочетания строк двух таблиц. Порядок таблиц для оператора не важен, поскольку оператор является симметричным.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_лучше_использовать_join_или_подзапросы">Что лучше использовать <code>JOIN</code> или подзапросы?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Обычно лучше использовать <code>JOIN</code>, поскольку в большинстве случаев он более понятен и лучше оптимизируется СУБД (но 100% этого гарантировать нельзя). Так же <code>JOIN</code> имеет заметное преимущество над подзапросами в случае, когда список выбора <code>SELECT</code> содержит столбцы более чем из одной таблицы.</p>
</div>
<div class="paragraph">
<p>Подзапросы лучше использовать в случаях, когда нужно вычислять агрегатные значения и использовать их для сравнений во внешних запросах.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_для_чего_используется_оператор_having">Для чего используется оператор <code>HAVING</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>HAVING</code> используется для фильтрации результата <code>GROUP BY</code> по заданным логическим условиям.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_в_чем_различие_между_операторами_having_и_where">В чем различие между операторами <code>HAVING</code> и <code>WHERE</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Основное отличие 'WHERE' от 'HAVING' заключается в том, что 'WHERE' сначала выбирает строки, а затем группирует их и вычисляет агрегатные функции (таким образом, она отбирает строки для вычисления агрегатов), тогда как 'HAVING' отбирает строки групп после группировки и вычисления агрегатных функций. Как следствие, предложение 'WHERE' не должно содержать агрегатных функций; не имеет смысла использовать агрегатные функции для определения строк для вычисления агрегатных функций. Предложение 'HAVING', напротив, всегда содержит агрегатные функции. (Строго говоря, вы можете написать предложение 'HAVING', не используя агрегаты, но это редко бывает полезно. То же самое условие может работать более эффективно на стадии 'WHERE'.)</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_для_чего_используется_оператор_order_by">Для чего используется оператор <code>ORDER BY</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>ORDER BY</strong> упорядочивает вывод запроса согласно значениям в том или ином количестве выбранных столбцов. Многочисленные столбцы упорядочиваются один внутри другого. Возможно определять возрастание <code>ASC</code> или убывание <code>DESC</code> для каждого столбца. По умолчанию установлено - возрастание.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_для_чего_используется_оператор_group_by">Для чего используется оператор <code>GROUP BY</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>GROUP BY</code> используется для агрегации записей результата по заданным признакам-атрибутам.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_как_group_by_обрабатывает_значение_null">Как <code>GROUP BY</code> обрабатывает значение <code>NULL</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>При использовании <code>GROUP BY</code> все значения <code>NULL</code> считаются равными.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_в_чем_разница_между_операторами_group_by_и_distinct">В чем разница между операторами <code>GROUP BY</code> и <code>DISTINCT</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>DISTINCT</code> указывает, что для вычислений используются только уникальные значения столбца. <code>NULL</code> считается как отдельное значение.
<code>GROUP BY</code> создает отдельную группу для всех возможных значений (включая значение <code>NULL</code>).</p>
</div>
<div class="paragraph">
<p>Если нужно удалить только дубликаты лучше использовать <code>DISTINCT</code>, <code>GROUP BY</code> лучше использовать для определения групп записей, к которым могут применяться агрегатные функции.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_перечислите_основные_агрегатные_функции">Перечислите основные агрегатные функции.</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Агрегатных функции</strong> - функции, которые берут группы значений и сводят их к одиночному значению.</p>
</div>
<div class="paragraph">
<p>SQL предоставляет несколько агрегатных функций:</p>
</div>
<div class="paragraph">
<p><code>COUNT</code> - производит подсчет записей, удовлетворяющих условию запроса;
<code>SUM</code> - вычисляет арифметическую сумму всех значений колонки;
<code>AVG</code> - вычисляет среднее арифметическое всех значений;
<code>MAX</code> - определяет наибольшее из всех выбранных значений;
<code>MIN</code> - определяет наименьшее из всех выбранных значений.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_в_чем_разница_между_count_и_countcolumn">В чем разница между <code>COUNT(*)</code> и <code>COUNT({column})</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>COUNT (*)</code> подсчитывает количество записей в таблице, не игнорируя значение NULL, поскольку эта функция оперирует записями, а не столбцами.</p>
</div>
<div class="paragraph">
<p><code>COUNT ({column})</code> подсчитывает количество значений в <code>{column}</code>. При подсчете количества значений столбца эта форма функции <code>COUNT</code> не принимает во внимание значение <code>NULL</code>.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_делает_оператор_exists">Что делает оператор <code>EXISTS</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>EXISTS</code> берет подзапрос, как аргумент, и оценивает его как <code>TRUE</code>, если подзапрос возвращает какие-либо записи и <code>FALSE</code>, если нет.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_для_чего_используются_операторы_in_between_like">Для чего используются операторы <code>IN</code>, <code>BETWEEN</code>, <code>LIKE</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>IN</code> - определяет набор значений.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT * FROM Persons WHERE name IN ('Ivan','Petr','Pavel');</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>BETWEEN</code> определяет диапазон значений. В отличие от <code>IN</code>, <code>BETWEEN</code> чувствителен к порядку, и первое значение в предложении должно быть первым по алфавитному или числовому порядку.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT * FROM Persons WHERE age BETWEEN 20 AND 25;</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>LIKE</code> применим только к полям типа <code>CHAR</code> или <code>VARCHAR</code>, с которыми он используется чтобы находить подстроки. В качестве условия используются <em>символы шаблонизации (wildkards</em>) - специальные символы, которые могут соответствовать чему-нибудь:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>_</code> замещает любой одиночный символ. Например, <code>'b_t'</code> будет соответствовать словам <code>'bat'</code> или <code>'bit'</code>, но не будет соответствовать <code>'brat'</code>.</p>
</li>
<li>
<p><code>%</code> замещает последовательность любого числа символов. Например <code>'%p%t'</code> будет соответствовать словам <code>'put'</code>, <code>'posit'</code>, или <code>'opt'</code>, но не <code>'spite'</code>.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT * FROM UNIVERSITY WHERE NAME LIKE '%o';</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_для_чего_применяется_ключевое_слово_union">Для чего применяется ключевое слово <code>UNION</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В языке SQL ключевое слово <code>UNION</code> применяется для объединения результатов двух SQL-запросов в единую таблицу, состоящую из схожих записей. Оба запроса должны возвращать одинаковое число столбцов и совместимые типы данных в соответствующих столбцах. Необходимо отметить, что <code>UNION</code> сам по себе не гарантирует порядок записей. Записи из второго запроса могут оказаться в начале, в конце или вообще перемешаться с записями из первого запроса. В случаях, когда требуется определенный порядок, необходимо использовать <code>ORDER BY</code>.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_какие_ограничения_на_целостность_данных_существуют_в_sql">Какие ограничения на целостность данных существуют в SQL?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>PRIMARY KEY</code> - набор полей (1 или более), значения которых образуют уникальную комбинацию и используются для однозначной идентификации записи в таблице. Для таблицы может быть создано только одно такое ограничение. Данное ограничение используется для обеспечения целостности сущности, которая описана таблицей.</p>
</div>
<div class="paragraph">
<p><code>CHECK</code> используется для ограничения множества значений, которые могут быть помещены в данный столбец. Это ограничение используется для обеспечения целостности предметной области, которую описывают таблицы в базе.</p>
</div>
<div class="paragraph">
<p><code>UNIQUE</code> обеспечивает отсутствие дубликатов в столбце или наборе столбцов.</p>
</div>
<div class="paragraph">
<p><code>FOREIGN KEY</code> защищает от действий, которые могут нарушить связи между таблицами. <code>FOREIGN KEY</code> в одной таблице указывает на <code>PRIMARY KEY</code> в другой. Поэтому данное ограничение нацелено на то, чтобы не было записей <code>FOREIGN KEY</code>, которым не отвечают записи <code>PRIMARY KEY</code>.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_какие_отличия_между_ограничениями_primary_и_unique">Какие отличия между ограничениями <code>PRIMARY</code> и <code>UNIQUE</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>По умолчанию ограничение <code>PRIMARY</code> создает кластерный индекс на столбце, а <code>UNIQUE</code> - некластерный. Другим отличием является то, что <code>PRIMARY</code> не разрешает <code>NULL</code> записей, в то время как <code>UNIQUE</code> разрешает одну (а в некоторых СУБД несколько) <code>NULL</code> запись.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_может_ли_значение_в_столбце_на_который_наложено_ограничение_foreign_key_равняться_null">Может ли значение в столбце, на который наложено ограничение <code>FOREIGN KEY</code>, равняться <code>NULL</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Может, если на данный столбец не наложено ограничение <code>NOT NULL</code>.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_как_создать_индекс">Как создать индекс?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Индекс можно создать либо с помощью выражения <code>CREATE INDEX</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">CREATE INDEX index_name ON table_name (column_name)</code></pre>
</div>
</div>
<div class="paragraph">
<p>либо указав ограничение целостности в виде уникального <code>UNIQUE</code> или первичного <code>PRIMARY</code> ключа в операторе создания таблицы <code>CREATE TABLE</code>.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_делает_оператор_merge">Что делает оператор <code>MERGE</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>MERGE</code> позволяет осуществить слияние данных одной таблицы с данными другой таблицы. При слиянии таблиц проверяется условие, и если оно истинно, то выполняется <code>UPDATE</code>, а если нет - <code>INSERT</code>. При этом изменять поля таблицы в секции <code>UPDATE</code>, по которым идет связывание двух таблиц, нельзя.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_в_чем_отличие_между_операторами_delete_и_truncate">В чем отличие между операторами <code>DELETE</code> и <code>TRUNCATE</code>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>DELETE</code> - оператор DML, удаляет записи из таблицы, которые удовлетворяют критерию <code>WHERE</code> при этом задействуются триггеры, ограничения и т.д.</p>
</div>
<div class="paragraph">
<p><code>TRUNCATE</code> - DDL оператор (удаляет таблицу и создает ее заново. Причем если на эту таблицу есть ссылки <code>FOREGIN KEY</code> или таблица используется в репликации, то пересоздать такую таблицу не получится).</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_такое_хранимая_процедура">Что такое <em>«хранимая процедура»</em>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Хранимая процедура</strong>&#8201;&#8212;&#8201;объект базы данных, представляющий собой набор SQL-инструкций, который хранится на сервере. Хранимые процедуры очень похожи на обыкновенные процедуры языков высокого уровня, у них могут быть входные и выходные параметры и локальные переменные, в них могут производиться числовые вычисления и операции над символьными данными, результаты которых могут присваиваться переменным и параметрам. В хранимых процедурах могут выполняться стандартные операции с базами данных (как DDL, так и DML). Кроме того, в хранимых процедурах возможны циклы и ветвления, то есть в них могут использоваться инструкции управления процессом исполнения.</p>
</div>
<div class="paragraph">
<p>Хранимые процедуры позволяют повысить производительность, расширяют возможности программирования и поддерживают функции безопасности данных. В большинстве СУБД при первом запуске хранимой процедуры она компилируется (выполняется синтаксический анализ и генерируется план доступа к данным) и в дальнейшем её обработка осуществляется быстрее.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_такое_триггер">Что такое <em>«триггер»</em>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Триггер (trigger)</strong>&#8201;&#8212;&#8201;это хранимая процедура особого типа, которую пользователь не вызывает непосредственно, а исполнение которой обусловлено действием по модификации данных: добавлением, удалением или изменением данных в заданной таблице реляционной базы данных. Триггеры применяются для обеспечения целостности данных и реализации сложной бизнес-логики. Триггер запускается сервером автоматически и все производимые им модификации данных рассматриваются как выполняемые в транзакции, в которой выполнено действие, вызвавшее срабатывание триггера. Соответственно, в случае обнаружения ошибки или нарушения целостности данных может произойти откат этой транзакции.</p>
</div>
<div class="paragraph">
<p>Момент запуска триггера определяется с помощью ключевых слов <code>BEFORE</code> (триггер запускается до выполнения связанного с ним события) или <code>AFTER</code> (после события). В случае, если триггер вызывается до события, он может внести изменения в модифицируемую событием запись. Кроме того, триггеры могут быть привязаны не к таблице, а к представлению (VIEW). В этом случае с их помощью реализуется механизм «обновляемого представления». В этом случае ключевые слова <code>BEFORE</code> и <code>AFTER</code> влияют лишь на последовательность вызова триггеров, так как собственно событие (удаление, вставка или обновление) не происходит.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_что_такое_курсор">Что такое <em>«курсор»</em>?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Курсор</strong>&#8201;&#8212;&#8201;это объект базы данных, который позволяет приложениям работать с записями «по-одной», а не сразу с множеством, как это делается в обычных SQL командах.</p>
</div>
<div class="paragraph">
<p>Порядок работы с курсором такой:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Определить курсор (<code>DECLARE</code>)</p>
</li>
<li>
<p>Открыть курсор (<code>OPEN</code>)</p>
</li>
<li>
<p>Получить запись из курсора (<code>FETCH</code>)</p>
</li>
<li>
<p>Обработать запись&#8230;&#8203;</p>
</li>
<li>
<p>Закрыть курсор (<code>CLOSE</code>)</p>
</li>
<li>
<p>Удалить ссылку курсора (<code>DEALLOCATE</code>). Когда удаляется последняя ссылка курсора, SQL освобождает структуры данных, составляющие курсор.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_опишите_разницу_типов_данных_datetime_и_timestamp">Опишите разницу типов данных <code>DATETIME</code> и <code>TIMESTAMP</code>.</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>DATETIME</code> предназначен для хранения целого числа: <code>YYYYMMDDHHMMSS</code>. И это время не зависит от временной зоны, настроенной на сервере.
Размер: 8 байт</p>
</div>
<div class="paragraph">
<p><code>TIMESTAMP</code> хранит значение равное количеству секунд, прошедших с полуночи 1 января 1970 года по усреднённому времени Гринвича. При получении из базы отображается с учётом часового пояса. Размер: 4 байта</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_для_каких_числовых_типов_недопустимо_использовать_операции_сложениявычитания">Для каких числовых типов недопустимо использовать операции сложения/вычитания?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>В качестве операндов операций сложения и вычитания нельзя использовать числовой тип <code>BIT</code>.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_какое_назначение_у_операторов_pivot_и_unpivot_в_transact_sql">Какое назначение у операторов <code>PIVOT</code> и <code>UNPIVOT</code> в Transact-SQL?</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>PIVOT</code> и <code>UNPIVOT</code> являются нестандартными реляционными операторами, которые поддерживаются Transact-SQL.</p>
</div>
<div class="paragraph">
<p>Оператор <code>PIVOT</code> разворачивает возвращающее табличное значение выражение, преобразуя уникальные значения одного столбца выражения в несколько выходных столбцов, а также, в случае необходимости, объединяет оставшиеся повторяющиеся значения столбца и отображает их в выходных данных. Оператор <code>UNPIVOT</code> производит действия, обратные <code>PIVOT</code>, преобразуя столбцы возвращающего табличное значение выражения в значения столбца.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_расскажите_об_основных_функциях_ранжирования_в_transact_sql">Расскажите об основных функциях ранжирования в Transact-SQL.</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ранжирующие функции - это функции, которые возвращают значение для каждой записи группы в результирующем наборе данных. На практике они могут быть использованы, например, для простой нумерации списка, составления рейтинга или постраничной навигации.</p>
</div>
<div class="paragraph">
<p>К примеру, у нас имеется набор данных следующего вида:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/image.png" alt="image">
</div>
</div>
<div class="paragraph">
<p><code>ROW_NUMBER</code>&#8201;&#8212;&#8201;функция нумерации в Transact-SQL, которая возвращает просто номер записи.</p>
</div>
<div class="paragraph">
<p>Например, запрос</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       ROW_NUMBER() OVER(ORDER BY Marks) RowNumber
FROM ExamResult;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Вернёт набор данных следующего вида:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/row_number-sql-rank-function.png" alt="row number sql rank function">
</div>
</div>
<div class="paragraph">
<p>А запрос вида</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       ROW_NUMBER() OVER(ORDER BY Marks desc) RowNumber
FROM ExamResult;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Вернёт набор</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/row_number-example.png" alt="row number example">
</div>
</div>
<div class="paragraph">
<p><code>RANK</code> возвращает ранг каждой записи. В данном случае, в отличие от <code>ROW_NUMBER</code>, идет уже анализ значений и в случае нахождения одинаковых возвращает одинаковый ранг с пропуском следующего.</p>
</div>
<div class="paragraph">
<p>Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       RANK() OVER(PARTITION BY Studentname ORDER BY Marks DESC) Rank
FROM ExamResult
ORDER BY Studentname,
         Rank;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/ranksql-rank-function.png" alt="ranksql rank function">
</div>
</div>
<div class="paragraph">
<p>Ещё пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       RANK() OVER(ORDER BY Marks DESC) Rank
FROM ExamResult
ORDER BY Rank;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/output-of-rank-function-for-similar-values.png" alt="output of rank function for similar values">
</div>
</div>
<div class="paragraph">
<p><code>DENSE_RANK</code> так же возвращает ранг каждой записи, но в отличие от <code>RANK</code> в случае нахождения одинаковых значений возвращает ранг без пропуска следующего.</p>
</div>
<div class="paragraph">
<p>Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       DENSE_RANK() OVER(ORDER BY Marks DESC) Rank
FROM ExamResult
ORDER BY Rank;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/dense_ranksql-rank-function.png" alt="dense ranksql rank function">
</div>
</div>
<div class="paragraph">
<p>Ещё пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       DENSE_RANK() OVER(PARTITION BY Subject ORDER BY Marks DESC) Rank
FROM ExamResult
ORDER BY Studentname,
         Rank;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/output-of-dense_rank-function.png" alt="output of dense rank function">
</div>
</div>
<div class="paragraph">
<p>Ну, и на последок, продемонстрируем разницу между <code>DENSE_RANK</code> и <code>RANK</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       RANK() OVER(PARTITION BY StudentName ORDER BY Marks ) Rank
FROM ExamResult
ORDER BY Studentname,
         Rank;</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT Studentname,
       Subject,
       Marks,
       DENSE_RANK() OVER(PARTITION BY StudentName ORDER BY Marks ) Rank
FROM ExamResult
ORDER BY Studentname,
         Rank;</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/difference-between-rank-and-dense_rank.png" alt="difference between rank and dense rank">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/difference-between-rank-and-dense_rank-functio.png" alt="difference between rank and dense rank functio">
</div>
</div>
<div class="paragraph">
<p><code>NTILE</code>&#8201;&#8212;&#8201;функция Transact-SQL, которая делит результирующий набор на группы по определенному столбцу.</p>
</div>
<div class="paragraph">
<p>Например:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT *,
       NTILE(2) OVER(
       ORDER BY Marks DESC) Rank
FROM ExamResult
ORDER BY rank;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/ntilen-sql-rank-function.png" alt="ntilen sql rank function">
</div>
</div>
<div class="paragraph">
<p>Пример 2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT *,
       NTILE(3) OVER(
       ORDER BY Marks DESC) Rank
FROM ExamResult
ORDER BY rank;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/ntilen-function-with-partition.png" alt="ntilen function with partition">
</div>
</div>
<div class="paragraph">
<p>Пример 3:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT *,
       NTILE(2) OVER(PARTITION  BY subject ORDER BY Marks DESC) Rank
FROM ExamResult
ORDER BY subject, rank;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Результат:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SQL/output-of-ntilen-function-with-partition.png" alt="output of ntilen function with partition">
</div>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_для_чего_используются_операторы_intersect_except_в_transact_sql">Для чего используются операторы <code>INTERSECT</code>, <code>EXCEPT</code> в Transact-SQL?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Оператор <code>EXCEPT</code> возвращает уникальные записи из левого входного запроса, которые не выводятся правым входным запросом.</p>
</div>
<div class="paragraph">
<p>Оператор <code>INTERSECT</code> возвращает уникальные записи, выводимые левым и правым входными запросами.</p>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_напишите_запрос">Напишите запрос&#8230;&#8203;</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">CREATE TABLE table (
  id BIGINT(20) NOT NULL AUTO_INCREMENT,
  created TIMESTAMP NOT NULL DEFAULT 0,
  PRIMARY KEY (id)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Требуется написать запрос, который вернет максимальное значение <code>id</code> и значение <code>created</code> для этого <code>id</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT id, created FROM table where id = (SELECT MAX(id) FROM table);</code></pre>
</div>
</div>
<hr>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">CREATE TABLE track_downloads (
  download_id BIGINT(20) NOT NULL AUTO_INCREMENT,
  track_id INT NOT NULL,
  user_id BIGINT(20) NOT NULL,
  download_time TIMESTAMP NOT NULL DEFAULT 0,
  PRIMARY KEY (download_id)
);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Напишите SQL-запрос, возвращающий все пары <code>(download_count, user_count)</code>, удовлетворяющие следующему условию: <code>user_count</code>&#8201;&#8212;&#8201;общее ненулевое число пользователей, сделавших ровно <code>download_count</code> скачиваний <code>19 ноября 2010 года</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">SELECT DISTINCT download_count, COUNT(*) AS user_count
FROM (
    SELECT COUNT(*) AS download_count
    FROM track_downloads WHERE download_time="2010-11-19"
    GROUP BY user_id)
AS download_count
GROUP BY download_count;</code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#sql">к оглавлению</a></p>
</div>
</div>
</div>
<h1 id="_источники" class="sect0">Источники</h1>
<div class="openblock partintro">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="https://ru.wikipedia.org/wiki/SQL">Википедия</a></p>
</li>
<li>
<p><a href="http://www.quizful.net/interview/sql">Quizful</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="README.html">Вопросы для собеседования</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-08-19 05:24:56 UTC
</div>
</div>
</body>
</html>